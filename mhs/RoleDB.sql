-- use role useradmin;
-- SHOW GRANTS TO ROLE rl_dbt_func_rw;
-------------------------------------------------------------------------------------------------------------
-- db role에는 warehouse를 지정하지 않는다. warehouse는 sql을 실행하는 레벨에서 부여한다. service 또는 user

-- db role에 부여하는 저장 권한
-- GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT USAGE ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT USAGE ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
-- GRANT ALL PRIVILEGES ON FUTURE PIPES IN DATABASE db1 TO ROLE rl_db1_rw;
-- GRANT USAGE ON ALL FILE FORMATS IN DATABASE db1 TO ROLE rl_db1_rw;
-- GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE db1 TO ROLE rl_db1_rw;
-- 필요 시 부여
-- GRANT ALL PRIVILEGES ON ALL PIPES IN DATABASE cdc TO ROLE rl_db_cdc_rw; --x // 일괄 불가
-- GRANT OPERATE ON ALL PIPES IN SCHEMA db1.s1 TO ROLE rl_db1_rw; --스키마별로 부여
-- GRANT OPERATE ON FUTURE PIPES IN SCHEMA db1.s1 TO ROLE rl_db1_rw; --스키마별로 부여

-- db role에 부여하는 조회 권한
-- GRANT USAGE ON DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT READ ON ALL STAGES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT READ ON FUTURE STAGES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_r;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_cdc_rw COMMENT = 'CDC DB 저장 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE cdc TO ROLE rl_db_cdc_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE cdc TO ROLE rl_db_cdc_rw;

CREATE ROLE rl_db_cdc_r COMMENT = 'CDC DB 조회 권한';
GRANT USAGE ON DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT USAGE ON ALL SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT SELECT ON ALL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT SELECT ON FUTURE TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE SEQUENCES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT READ ON ALL STAGES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT READ ON FUTURE STAGES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON ALL PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_r;
-- GRANT USAGE ON FUTURE PROCEDURES IN DATABASE cdc TO ROLE rl_db_cdc_r;

-- revoke SELECT ON ALL VIEWS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke SELECT ON FUTURE VIEWS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke SELECT ON ALL MATERIALIZED VIEWS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON ALL SEQUENCES IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON FUTURE SEQUENCES IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke READ ON ALL STAGES IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke READ ON FUTURE STAGES IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON ALL FUNCTIONS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON FUTURE FUNCTIONS IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON ALL PROCEDURES IN DATABASE cdc from ROLE rl_db_cdc_r;
-- revoke USAGE ON FUTURE PROCEDURES IN DATABASE cdc from ROLE rl_db_cdc_r;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_dwdm_rw COMMENT = 'DWDM DB 저장 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT OWNERSHIP ON DATABASE dwdm TO ROLE rl_db_dwdm_rw COPY CURRENT GRANTS;
-- GRANT OWNERSHIP ON ALL SCHEMAS TO ROLE rl_db_dwdm_rw COPY CURRENT GRANTS; --x
-- GRANT OWNERSHIP ON ALL TABLES TO ROLE rl_db_dwdm_rw COPY CURRENT GRANTS; --x
GRANT USAGE ON ALL SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE dwdm TO ROLE rl_db_dwdm_rw;

CREATE ROLE rl_db_dwdm_r COMMENT = 'DWDM DB 조회 권한';
GRANT USAGE ON DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON ALL SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON ALL TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON FUTURE TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON ALL VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON FUTURE VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON ALL SEQUENCES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON FUTURE SEQUENCES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT READ ON ALL STAGES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT READ ON FUTURE STAGES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON ALL FUNCTIONS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON ALL PROCEDURES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
GRANT USAGE ON FUTURE PROCEDURES IN DATABASE dwdm TO ROLE rl_db_dwdm_r;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_hanalog_rw COMMENT = 'HANALOG DB 저장 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE hanalog TO ROLE rl_db_hanalog_rw;

CREATE ROLE rl_db_hanalog_r COMMENT = 'HANALOG DB 조회 권한';
GRANT USAGE ON DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON ALL SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON ALL TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON FUTURE TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON ALL VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON FUTURE VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON ALL SEQUENCES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON FUTURE SEQUENCES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT READ ON ALL STAGES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT READ ON FUTURE STAGES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON ALL FUNCTIONS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON ALL PROCEDURES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
GRANT USAGE ON FUTURE PROCEDURES IN DATABASE hanalog TO ROLE rl_db_hanalog_r;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_int_dwdm_rw COMMENT = 'INT_DWDM DB 저장 권한';
GGRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE int_dwdm TO ROLE rl_db_int_dwdm_rw;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_sap_rw COMMENT = 'SAP DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE sap TO ROLE rl_db_sap_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE sap TO ROLE rl_db_sap_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE sap TO ROLE rl_db_sap_rw;

CREATE ROLE rl_db_sap_r COMMENT = 'SAP DB 조회 권한';
GRANT USAGE ON DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON ALL SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON ALL TABLES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON FUTURE TABLES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON ALL VIEWS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON FUTURE VIEWS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON ALL SEQUENCES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON FUTURE SEQUENCES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT READ ON ALL STAGES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT READ ON FUTURE STAGES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON ALL FUNCTIONS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON ALL PROCEDURES IN DATABASE sap TO ROLE rl_db_sap_r;
GRANT USAGE ON FUTURE PROCEDURES IN DATABASE sap TO ROLE rl_db_sap_r;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_stg_cdc_rw COMMENT = 'STG_CDC DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE stg_cdc TO ROLE rl_db_stg_cdc_rw;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_stg_external_rw COMMENT = 'STG_EXTERNAL DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE stg_external TO ROLE rl_db_stg_external_rw;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_sys_dbt_rw COMMENT = 'SYS_DBT DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;

-- 이거 실행함. 테스트중 // 잘되면 템플릿에 추가하자
-- DBT Project는 ownership 을 변경해줘야 함. // 일괄 부여 불가. future 불가.
GRANT USAGE ON DBT PROJECT sys_dbt.PROJECT.HNT_DP TO rl_db_sys_dbt_rw; -- 이거 해야해.
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw;

-- DBT Project의 ownership은 유저에게 직접 부여된 role이어야 한다??


-- grant ownership on DBT PROJECT sys_dbt.PROJECT.HNT_DP TO rl_service_dbt revoke current grants;
-- grant ownership on DBT PROJECT sys_dbt.PROJECT.HNT_DP TO rl_db_sys_dbt_rw revoke current grants;
grant ownership on DBT PROJECT sys_dbt.PROJECT.HNT_DP TO rl_dbt_user revoke current grants;
grant ownership on DBT PROJECT sys_dbt.yk.HNT_DP_YK TO rl_dbt_user revoke current grants;
-- grant ownership on DBT PROJECT sys_dbt.PROJECT.HNT_DP TO rl_service_airflow revoke current grants;

grant ownership on DBT PROJECT sys_dbt.yk.HNT_DP_YK TO rl_db_sys_dbt_rw revoke current grants;
-- GRANT CREATE DBT PROJECT on schema sys_dbt.yk to role rl_dbt_func_rw with grant option; --x
-- GRANT ALL PRIVILEGES ON DBT PROJECT sys_dbt.yk.HNT_DP TO ROLE rl_db_sys_dbt_rw; --o
GRANT ALL PRIVILEGES ON DBT PROJECT sys_dbt.yk.HNT_DP_YK TO ROLE rl_db_sys_dbt_rw; --o // monitoring에 안나와. 시간 지나도 안나온다.
-- GRANT ALL PRIVILEGES ON DBT PROJECT sys_dbt.yk.HNT_DP_YK999 TO ROLE rl_db_sys_dbt_rw; --o
-- GRANT ALL PRIVILEGES ON ALL DBT PROJECTS IN SCHEMA sys_dbt.yk TO ROLE rl_db_sys_dbt_rw; --x
-- GRANT ALL PRIVILEGES ON ALL DBT PROJECTS IN DATABASE sys_dbt TO ROLE rl_db_sys_dbt_rw; --x

--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_sys_security_rw COMMENT = 'SYS_SECURITY DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE sys_security TO ROLE rl_db_sys_security_rw;

-- grant role rl_db_sys_security_rw to role securityadmin;
--------------------------------------------------------------------------------------------
CREATE ROLE rl_db_tms_rw COMMENT = 'TMS DB RW 권한';
GRANT USAGE, CREATE SCHEMA, MODIFY ON DATABASE tms TO ROLE rl_db_tms_rw;
GRANT USAGE ON ALL SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL TABLES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE TABLES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL VIEWS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE VIEWS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL MATERIALIZED VIEWS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE MATERIALIZED VIEWS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL STAGES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE STAGES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL FUNCTIONS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE FUNCTIONS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL PROCEDURES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE PROCEDURES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE SEQUENCES IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL STREAMS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE STREAMS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON ALL TASKS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT ALL PRIVILEGES ON FUTURE TASKS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE tms TO ROLE rl_db_tms_rw;
GRANT USAGE ON FUTURE FILE FORMATS IN DATABASE tms TO ROLE rl_db_tms_rw;

CREATE ROLE rl_db_tms_r COMMENT = 'TMS DB 조회 권한';
GRANT USAGE ON DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON ALL SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON ALL TABLES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON FUTURE TABLES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON ALL VIEWS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON FUTURE VIEWS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT SELECT ON FUTURE EXTERNAL TABLES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON ALL SEQUENCES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON FUTURE SEQUENCES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT READ ON ALL STAGES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT READ ON FUTURE STAGES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON ALL FUNCTIONS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON FUTURE FUNCTIONS IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON ALL PROCEDURES IN DATABASE tms TO ROLE rl_db_tms_r;
GRANT USAGE ON FUTURE PROCEDURES IN DATABASE tms TO ROLE rl_db_tms_r;